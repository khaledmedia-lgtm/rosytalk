<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Ù†Ø¸Ø§Ù… Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</title>
  <style>
    body { font-family: sans-serif; background: #0f172a; color: white; padding: 20px; }
    .container { max-width: 400px; margin: auto; }
    input { width: 100%; padding: 12px; margin-bottom: 10px; border-radius: 8px; border: 1px solid #334155; background: #020617; color: white; box-sizing: border-box; }
    button { width: 100%; padding: 12px; border-radius: 8px; border: none; background: #2563eb; color: white; font-weight: bold; cursor: pointer; }
    .card { background: #1e293b; padding: 15px; border-radius: 12px; margin-top: 20px; border-right: 5px solid #2563eb; }
    .card p { margin: 8px 0; font-size: 14px; }
    .label { color: #94a3b8; font-size: 12px; }
  </style>
</head>
<body>
  <div class="container">
    <h3>ğŸ” Ø¨Ø­Ø« Ø³Ø±ÙŠØ¹</h3>
    <input id="searchInput" placeholder="Ø§Ø³Ù…ØŒ Ø±Ù‚Ù… Ø³ÙŠØ§Ø±Ø©ØŒ Ø£Ùˆ Ø´Ø±ÙƒØ©...">
    <button onclick="doSearch()">Ø§Ø¨Ø­Ø« Ø§Ù„Ø¢Ù†</button>

    <div id="resultArea"></div>
  </div>

  <script>
    async function doSearch() {
      const q = document.getElementById("searchInput").value;
      const resArea = document.getElementById("resultArea");
      resArea.innerHTML = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¨Ø­Ø«...";

      try {
        const response = await fetch(`https://your-worker-url.workers.dev/search?q=${q}`);
        const data = await response.json();

        if (data.length > 0) {
          const c = data[0];
          resArea.innerHTML = `
            <div class="card">
              <p><span class="label">Ø§Ù„Ø¹Ù…ÙŠÙ„:</span> ${c.name}</p>
              <p><span class="label">Ø§Ù„Ø³ÙŠØ§Ø±Ø©:</span> ${c.car_plate}</p>
              <p><span class="label">Ø§Ù„Ø´Ø±ÙƒØ©:</span> ${c.company_name}</p>
              <p><span class="label">Ù…Ù„Ø§Ø­Ø¸Ø§Øª:</span> ${c.notes || 'Ù„Ø§ ÙŠÙˆØ¬Ø¯'}</p>
            </div>
          `;
        } else {
          resArea.innerHTML = "<p>Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù…ÙŠÙ„</p>";
        }
      } catch (e) {
        resArea.innerHTML = "<p>Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø³ÙŠØ±ÙØ±</p>";
      }
    }
  </script>
</body>
</html>
</style>
      display: flex;
      flex-direction: column;
      gap: 10px;
      max-height: 300px;
      overflow-y: auto;
    }

    .user {
      align-self: flex-end;
      background: #2563eb;
      color: white;
      padding: 10px 14px;
      border-radius: 14px 14px 0 14px;
      max-width: 80%;
      word-wrap: break-word;
    }

    .bot {
      align-self: flex-start;
      background: #020617;
      border: 1px solid #334155;
      color: #e5e7eb;
      padding: 10px 14px;
      border-radius: 14px 14px 14px 0;
      max-width: 80%;
      word-wrap: break-word;
    }

    input {
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #334155;
      background: #020617;
      color: #e5e7eb;
      outline: none;
    }

    button {
  padding: 12px;
  border-radius: 12px;
  border: none;
  background: linear-gradient(135deg, #2563eb, #4f46e5);
  color: white;
  font-weight: bold;
  cursor: pointer;
}
    }

    button:hover {
      background: #1d4ed8;
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>RosyTalk</h1>

    <div id="response"></div>

    <input
      id="userInput"
      placeholder="Type something..."
      onkeydown="handleEnter(event)"
    >

    <button onclick="sendMessage()">Send</button>
  </div>

  <script>
function sendMessage() {
  const responseEl = document.getElementById("response");
  responseEl.innerHTML += `<div class="bot">âœ… Ø§Ù„Ø²Ø± Ø´ØºÙ‘Ø§Ù„</div>`;
function sendMessage() {
  const input = document.getElementById("userInput");
  const responseEl = document.getElementById("response");

  if (input.value.trim() === "") return; // Ù„Ù…Ù†Ø¹ Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ø¦Ù„ ÙØ§Ø±ØºØ©

  // 1. Ø¥Ø¶Ø§ÙØ© Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
  responseEl.innerHTML += `<div class="user">${input.value}</div>`;

  // 2. Ø±Ø¯ ØªØ¬Ø±ÙŠØ¨ÙŠ Ù…Ù† Ø§Ù„Ù†Ø¸Ø§Ù… (Ù„Ø§Ø­Ù‚Ø§Ù‹ Ø³Ù†Ø±Ø¨Ø·Ù‡ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª)
  setTimeout(() => {
    responseEl.innerHTML += `<div class="bot">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø¹Ù…ÙŠÙ„: ${input.value}...</div>`;
    responseEl.scrollTop = responseEl.scrollHeight; // Ù„Ù„Ù†Ø²ÙˆÙ„ Ù„Ø¢Ø®Ø± Ø±Ø³Ø§Ù„Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
  }, 500);

  input.value = ""; // Ù…Ø³Ø­ Ø§Ù„Ø®Ø§Ù†Ø© Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„
}

// Ø¯Ø§Ù„Ø© Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Enter
function handleEnter(event) {
  if (event.key === "Enter") {
    sendMessage();
  }
}

}
  </script>
</body>
</html>
